# LeetCode319 灯泡开关 题解

## 一、题目描述

初始时有 n 个灯泡处于关闭状态。第一轮，你将会打开所有灯泡。接下来的第二轮，你将会每两个灯泡关闭一个。

第三轮，你每三个灯泡就切换一个灯泡的开关（即，打开变关闭，关闭变打开）。第 i 轮，你每 i 个灯泡就切换一个灯泡的开关。直到第 n 轮，你只需要切换最后一个灯泡的开关。

找出并返回 n 轮后有多少个亮着的灯泡。

**提示：**

- `0 <= n <= 10^9`



## 二、分析

这是一道基础数学题，需要用到一点点组合数学乘法原理的知识。

一个数字$n$可以写成若干个素数以下形式之积：
$$
n=p_1^{c_1}p_2^{c_2}...p_s^{c_s}
$$
因此数字n有$(c_1+1)(c_2+1)...(c_s+1)$个不同的因子，而这也是第n个灯泡会被操作的次数。

问题要求最后有多少亮着的灯泡，即灯泡被操作次数为奇数，要求$(c_1+1),(c_2+1),...(c_s+1)$均为奇数，即$c_1,c_2,...,c_s$均为偶数，因此n为完全平方数，只需要计算完全平方数的个数即可。



## 三、代码

```c++
int bulbSwitch(int n) {
    return sqrt(n);
}
```

