# LeetCode470 用Rand7()实现Rand10() 题解

## 一、题目描述

已有方法 `rand7` 可生成 1 到 7 范围内的均匀随机整数，试写一个方法 `rand10` 生成 1 到 10 范围内的均匀随机整数。



## 二、分析

**这是「拒绝采样」随机算法的典型例子**。

在数值分析和计算统计中，拒绝采样是用于从分布生成观测值的基本技术。它通常也被称为接受拒绝方法或「接受拒绝算法」，是一种精确的模拟方法。该方法适用于具有密度的任何分布。

**拒绝采样基于以下观察：==在一维中对随机变量进行采样，可以对二维笛卡尔图执行均匀随机采样==，并将样本保持在其密度函数图下的区域中**。

本题可以将每次采样**看作是7进制的计算，就符合上面的定义**，这样范围就限制在$[0,48]$之间，每个数字等概率，取$[1,10]$之间的数就行。

> 本题还有更一般的结论：
>
> $(RandX()-1) \times RandY() + RandY()$可以生成$[0,X \times Y - 1]$的均匀分布。



## 三、代码

```c++
int rand10() {
    while (1) {
        int num = (rand7() - 1) * 7 + rand7();
        if (num >= 1 && num <= 10) return num;
    }
    return 1;
}
```

